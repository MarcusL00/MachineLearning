<div>
  <h2>Configure ML model</h2>
  <form
    id="model-form"
    hx-post="/api/run-model"
    hx-target="#results-container"
    hx-swap="innerHTML"
    hx-indicator="#results-loading"
    enctype="multipart/form-data"
    method="post"
  >
    <div>
      <h3>Upload CSV file</h3>
      <input type="file" id="csv-file" name="csv_file" accept=".csv" required />
    </div>
    <div>
      <h3>Select Model</h3>
      <select id="model-select" name="model">
        <option value="model_a">Model A</option>
        <option value="model_b">Model B</option>
        <option value="model_c">Model C</option>
      </select>
    </div>
    <div>
      <h3>Features</h3>
      <p>Select which columns to use as features (multiple allowed).</p>
      <select id="features-select" name="features[]" multiple disabled required>
        <!-- populated from CSV headers -->
      </select>
    </div>
    <div>
      <h3>Targets</h3>
      <p>Select which columns to use as targets (one or more).</p>
      <select id="targets-select" name="targets[]" multiple disabled required>
        <!-- populated from CSV headers -->
      </select>
    </div>
    <div>
      <h3>Seed</h3>
      <p>Use -1 for random seed</p>
      <input type="number" id="seed-input" name="seed" required value="-1" />
    </div>
    <div>
      <h3>Evaluation Settings</h3>
      <div class="checkbox-group">
        <input type="hidden" name="confusion_matrix" value="false" />
        <input
          type="checkbox"
          id="confusion-matrix"
          name="confusion_matrix"
          value="true"
          content="Toggle confusion matrix"
        />
        <label for="confusion-matrix">Show Confusion Matrix</label>
      </div>
    </div>
    <button type="submit">Run Model</button>
  </form>
</div>
